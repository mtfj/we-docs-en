
.. _config-fields:

Описание основных параметров и секций конфигурационного файла ноды
=====================================================================

Для параметров в конфигурационном файле применяется несколько типов значений.

* Числовое значение, используемое для указания точного количества элементов. Это может быть количество транзакций, блоков, соединений.
* Числовое значение с указанием единиц измерения, используемое для определения временного периода или объёма памяти. В таком виде, как правило, указываются временные периоды в днях, часах или секундах, или объём кэш-памяти, например, ``leveldb-cache-size = 256M`` или ``connection-timeout = 30s``.
* Строковое значение, используемое для указания адресов, путей к директориям, паролям и т.д. Путь к директории указывается в формате, приемлемом для текущей ОС. Значение указывается в кавычках.
* Массив, используемый для указания списков значений, например, адресов или публичных ключей. Значение указывается в квадратных скобках через запятую.
* Логический тип ``no`` или ``yes``, используемый для активации различных опций.

Пример конфигурационного файла представлен на странице :ref:`подготовки конфигурационных файлов <create-node-config>`. В состав файла входят следующие секции:

* :ref:`node <node-sect-conf>` - общая секция, куда входят все секции и дополнительные параметры для настройки ноды.
* :ref:`blockchain <blockchain-sect-conf>` - настройка основных параметров блокчейна.
* :ref:`features <features-sect-conf>` - настройка дополнительных параметров ноды.
* :ref:`network <network-sect-conf>` - сетевые настройки.
* :ref:`wallet <wallet-sect-conf>` - настройка доступа к закрытым ключам ноды.
* :ref:`miner <miner-sect-conf>` - настройка майнинга.
* :ref:`rest-api <authorization-config>` - настройка REST API и типа авторизации для доступа к REST API.
* :ref:`privacy <privacy-config>` - настройка групп доступа к конфиденциальной информации.
* :ref:`docker-engine <docker-configuration>` - настройка Docker смарт-контрактов.

.. _node-sect-conf:

Секция ``node``
---------------------

Дополнительные параметры секции:

* ``waves-crypto`` - тип :ref:`шифрования <cryptography>` в блокчейне. Возможные значения: ``yes`` - выбор криптографии Waves, ``no`` - выбор ГОСТ-криптографии.
* ``directory`` - основная директория для хранения ПО ноды.
* ``data-directory`` - директория для хранения данных блокчейна в LevelDB: блоки, транзакции, стейт ноды.
* ``logging-level`` - уровень логирования работы ноды. Возможные значения: ``DEBUG``, ``INFO``, ``WARN``, ``ERROR``, по умолчанию установлено значение ``INFO``.
* ``owner-address`` - адрес ноды, которая будет владельцем конфигурационного файла. Если владелец ноды будет начальным участником сети, то его адрес и публичный ключ должны быть в genesis блоке.

.. _blockchain-sect-conf:

Секция ``blockchain``
-------------------------

* ``type`` - тип блокчейна. Возможные значения ``DEFAULT`` или ``CUSTOM``.
* ``consensus.type`` - тип :ref:`консенсуса <consensus>` в блокчейне. Возможные значения ``PoS`` или ``PoA``.

**Блок** ``custom``

* ``address-scheme-character`` - байт сети, для "Waves Enterprise Mainnet" - ``V``, для "Waves Enterprise Partnernet" - ``P``. Данный параметр используется для предотвращения конфликта адресов из разных сетей. Для сайдчейна или для тестовых версий блокчейн-платформы Waves Enterprise можно использовать любые буквы. Ноды в одной блокчейн-сети должны иметь одинаковый байт сети.
* ``functionality`` - блок настройки основных параметров блокчейна.
* ``genesis`` - блок настройки параметров генезис-блока.

**Блок** ``functionality``

* ``feature-check-blocks-period`` - количество блоков, через которые выполняется проверка и активация опций блокчейна.
* ``blocks-for-feature-activation`` - количество блоков, через которые применяется активированная опция.
* ``pre-activated-features`` - набор опций блокчейна.

**Блок** ``genesis``

* ``average-block-delay`` - средняя задержка создания блоков.
* ``initial-base-target`` - начальное базовое число для регулирования процесса майнинга.
* ``block-timestamp`` - числовой код даты и времени. Время указывается в миллисекундах, значение должно состоять из 13 цифр. Если вы берёте стандартное значение ``timpstamp``, состоящее из 10 цифр, то в конце необходимо добавить три любые цифры.
* ``initial-balance`` - начальный баланс сети. 
* ``genesis-public-key-base-58`` - хеш публичного ключа генезис-блока, зашифрованный в Base58.
* ``signature`` - подпись генезис-блока, зашифрованная в Base58.
* ``transactions`` - список участников сети с первоначальным балансом, создание которых войдёт в генезис-блок в виде генезис-транзакций.
* ``network-participants`` - список сетевых участников с ролями, создание которых войдёт в генезис-блок в виде генезис-транзакций.

.. _network-sect-conf:

Секция ``network``
-------------------------

* ``bind-address`` - сетевой адрес ноды.
* ``port`` - номер порта.
* ``known-peers`` - список известных сетевых адресов нод.
* ``declared-address`` - сетевой адрес ноды вместе с номером порта для процедуры handshake.

.. _wallet-sect-conf:

Секция ``wallet``
-------------------------

* ``file`` - директория для хранения приватных ключей.
* ``password`` - пароль для доступа к файлу с приватными ключами.

.. _miner-sect-conf:

Секция ``miner``
-------------------------

* ``enable`` - активация опции майнинга.
* ``quorum`` - необходимое количество соединений для создания блока. Значение ``0`` позволит генерировать блоки оффлайн.
* ``interval-after-last-block-then-generation-is-allowed`` - создание блока только в том случае, если последний блок не старше указанного периода времени.
* ``micro-block-interval`` - интервал между микроблоками.
* ``min-micro-block-age`` - минимальный возраст микроблока.
* ``max-transactions-in-micro-block`` - максимальное количество транзакций в микроблоке.
* ``minimal-block-generation-offset`` - минимальный временной интервал между блоками.

.. _features-sect-conf:

Секция ``features``
----------------------

* ``supported`` - список поддерживаемых опций.
