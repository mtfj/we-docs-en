
.. _data-service:

Сервис подготовки данных
========================================

Сервис агрегирует данные из блокчейна в реляционную БД и предоставляет API для доступа к этим данным. Функциональные возможности сервиса спроектированы под потребности клиента Waves Enterprise. Для запросов доступны уточняющие параметры.

Использование
---------------------

Для использования сервиса необходимо развернуть свой экземпляр клиента и ноды из комплекта поставки. На данный момент доступ к API сервиса подготовки данных в публичной сети ограничен. Описание REST API сервиса подготовки данных представлено в разделе :ref:`REST API сервиса подготовки данных <rest-api-data-service>`.

Уточняющие параметры
---------------------

Поиск
~~~~~~~~

Поиск совпадения — принимает на вход строку и диапазон для поиска совпадения.

Диапазон поиска совпадений:

* в описаниях наборов токенов и в сообщениях в трансфер транзакциях;
* в суммах транзакций;
* в блоках;
* в псевдонимах отправителей и получателей транзакций;
* в адресах отправителей и получателей транзакций;
* в идентификаторах транзакций;
* в идентификаторах токенов;
* в подписях транзакций;
* в ключах-значениях транзакций с данными.

Фильтры
~~~~~~~~~

Определяют возвращаемые методами API данные о транзанзакциях. Доступны следующие фильтры:

* По типу транзакций — числовой идентификатор типа транзакций. Идентификаторы описаны в разделе :ref:`data-structures`.
* По набору токенов - идентификатор набора токенов (идентификатор транзакции создания набора токенов).
* По сумме транзакции (требует указания типа транзакций и идентификатора набора токенов):

    - Сумма транзакции равна - число;
    - Сумма транзакции от - число;
    - Сумма транзакции до - число.

* По дате (требует указания обоих значений диапазона):

    - Дата транзакции от в формате гггг-мм-чч;
    - Дата транзакции до гггг-мм-чч.

* Разрешения —  отображает транзакции разрешений, требует указания типа транзакци «Permission».
* Индекс и Лимит— возвращает из БД транзакции до указанного индекса согласно заданному лимиту.


